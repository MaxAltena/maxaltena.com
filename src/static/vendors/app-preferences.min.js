"use strict";var colorScheme=Object.freeze({DARK:"dark",LIGHT:"light",NO_PREFERENCE:"no-preference",NO_SUPPORT:"no-support"}),reducedMotion=Object.freeze({REDUCE:"reduce",NO_PREFERENCE:"no-preference",NO_SUPPORT:"no-support"}),html=document.documentElement,isSupported=!!window.matchMedia,hasColorSchemeLS=!!localStorage.getItem("color-scheme"),hasReducedMotionLS=!!localStorage.getItem("reduced-motion"),csGet=function(){var e=colorScheme.NO_PREFERENCE;return isSupported&&(window.matchMedia("(prefers-color-scheme: ".concat(colorScheme.LIGHT,")")).matches&&(e=colorScheme.LIGHT),window.matchMedia("(prefers-color-scheme: ".concat(colorScheme.DARK,")")).matches&&(e=colorScheme.DARK)),html.dataset.colorScheme===colorScheme.LIGHT&&(e=colorScheme.LIGHT),html.dataset.colorScheme===colorScheme.DARK&&(e=colorScheme.DARK),e},csSet=function(e){switch(e){case colorScheme.LIGHT:case colorScheme.DARK:html.dataset.colorScheme=e,localStorage.setItem("color-scheme",e),window.appPreferences.colorScheme.current=e;break;case colorScheme.NO_PREFERENCE:case colorScheme.NO_SUPPORT:default:delete html.dataset.colorScheme,localStorage.removeItem("color-scheme"),window.appPreferences.colorScheme.current=csGet()}},csCheck=function(e){return!(e!==window.appPreferences.colorScheme.current)},csReset=function(){delete html.dataset.colorScheme,localStorage.removeItem("color-scheme"),window.appPreferences.colorScheme.current=csGet()},csToggle=function(){switch(window.appPreferences.colorScheme.current){case colorScheme.LIGHT:default:html.dataset.colorScheme=colorScheme.DARK,localStorage.setItem("color-scheme",colorScheme.DARK),window.appPreferences.colorScheme.current=colorScheme.DARK;break;case colorScheme.DARK:html.dataset.colorScheme=colorScheme.LIGHT,localStorage.setItem("color-scheme",colorScheme.LIGHT),window.appPreferences.colorScheme.current=colorScheme.LIGHT}},rmGet=function(){var e=reducedMotion.NO_PREFERENCE;return isSupported&&window.matchMedia("(prefers-reduced-motion: ".concat(reducedMotion.REDUCE,")")).matches&&(e=reducedMotion.REDUCE),html.dataset.reducedMotion===reducedMotion.REDUCE&&(e=reducedMotion.REDUCE),e},rmSet=function(e){switch(e){case reducedMotion.REDUCE:html.dataset.reducedMotion=e,localStorage.setItem("reduced-motion",e),window.appPreferences.reducedMotion.current=e;break;case reducedMotion.NO_PREFERENCE:case reducedMotion.NO_SUPPORT:default:delete html.dataset.reducedMotion,localStorage.removeItem("reduced-motion"),window.appPreferences.reducedMotion.current=rmGet()}},rmCheck=function(e){return!(e!==window.appPreferences.reducedMotion.current)},rmReset=function(){delete html.dataset.reducedMotion,localStorage.removeItem("reduced-motion"),window.appPreferences.reducedMotion.current=rmGet()},rmToggle=function(){switch(window.appPreferences.reducedMotion.current){case reducedMotion.REDUCE:default:delete html.dataset.reducedMotion,localStorage.removeItem("reduced-motion"),window.appPreferences.reducedMotion.current=rmGet();break;case reducedMotion.NO_PREFERENCE:html.dataset.reducedMotion=reducedMotion.REDUCE,localStorage.setItem("reduced-motion",reducedMotion.REDUCE),window.appPreferences.reducedMotion.current=reducedMotion.REDUCE}};isSupported&&(window.matchMedia("(prefers-color-scheme: ".concat(colorScheme.LIGHT,")")).addEventListener("change",function(e){e.matches&&csSet(colorScheme.LIGHT)}),window.matchMedia("(prefers-color-scheme: ".concat(colorScheme.DARK,")")).addEventListener("change",function(e){e.matches&&csSet(colorScheme.DARK)}),window.matchMedia("(prefers-reduced-motion: ".concat(reducedMotion.REDUCE,")")).addEventListener("change",function(e){e.matches&&rmSet(reducedMotion.REDUCE)})),new MutationObserver(function(e){return e.forEach(function(e){"data-color-scheme"===e.attributeName&&csGet(),"data-reduced-motion"===e.attributeName&&rmGet()})}).observe(document.documentElement,{attributeFilter:["data-color-scheme","data-reduced-motion"]}),window.appPreferences={colorScheme:{get:csGet,set:csSet,check:csCheck,reset:csReset,toggle:csToggle,prefers:isSupported?window.matchMedia("(prefers-color-scheme: ".concat(colorScheme.LIGHT,")")).matches?colorScheme.LIGHT:window.matchMedia("(prefers-color-scheme: ".concat(colorScheme.DARK,")")).matches?colorScheme.DARK:colorScheme.NO_PREFERENCE:colorScheme.NO_SUPPORT,current:csGet()},reducedMotion:{get:rmGet,set:rmSet,check:rmCheck,reset:rmReset,toggle:rmToggle,prefers:isSupported?window.matchMedia("(prefers-reduced-motion: ".concat(reducedMotion.REDUCE,")")).matches?reducedMotion.REDUCE:reducedMotion.NO_PREFERENCE:reducedMotion.NO_SUPPORT,current:rmGet()}},hasColorSchemeLS&&csSet(localStorage.getItem("color-scheme")),hasReducedMotionLS&&rmSet(localStorage.getItem("reduced-motion"));
